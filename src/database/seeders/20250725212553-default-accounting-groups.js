'use strict';


module.exports = {
  async up(queryInterface, Sequelize) {
    await queryInterface.bulkDelete('groups', null, { truncate: true, cascade: true, restartIdentity: true });
    console.log('Deleted all existing groups');
    await queryInterface.sequelize.query(`
      SELECT setval(pg_get_serial_sequence('"groups"', 'id'), 1, false);
    `);
    console.log('Reset group ID sequence to start from 1');

    const groups = [
      {
        id: 1,
        groupName: 'Branch / Divisions',
        undergroup: 'Primary',
        parentGroupId: null,
        groupType: 'Income',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Branch / Divisions',
        sortOrder: 1,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 2,
        groupName: 'Capital Account',
        undergroup: 'Primary',
        parentGroupId: null,
        groupType: 'Income',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Capital Account',
        sortOrder: 2,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 3,
        groupName: 'Reserves & Surplus',
        undergroup: 'Capital Account',
        parentGroupId: 2,
        groupType: 'Capital',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Reserves & Surplus',
        sortOrder: 1,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 4,
        groupName: 'Current Assets',
        undergroup: 'Primary',
        parentGroupId: null,
        groupType: 'Asset',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Current Assets',
        sortOrder: 3,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 5,
        groupName: 'Bank Accounts',
        undergroup: 'Current Assets',
        parentGroupId: 4,
        groupType: 'Asset',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Bank Accounts',
        sortOrder: 1,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 6,
        groupName: 'Cash-in-Hand',
        undergroup: 'Current Assets',
        parentGroupId: 4,
        groupType: 'Asset',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Cash-in-Hand',
        sortOrder: 2,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 7,
        groupName: 'Operator Cash',
        undergroup: 'Cash-in-Hand',
        parentGroupId: 6,
        groupType: 'Income',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Operator Cash',
        sortOrder: 1,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 8,
        groupName: 'Deposits (Asset)',
        undergroup: 'Current Assets',
        parentGroupId: 4,
        groupType: 'Asset',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Deposits (Asset)',
        sortOrder: 3,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 9,
        groupName: 'Loans & Advances (Asset)',
        undergroup: 'Current Assets',
        parentGroupId: 4,
        groupType: 'Asset',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Loans & Advances (Asset)',
        sortOrder: 4,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 10,
        groupName: 'Stock-in-Hand',
        undergroup: 'Current Assets',
        parentGroupId: 4,
        groupType: 'Asset',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Stock-in-Hand',
        sortOrder: 5,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 11,
        groupName: 'Sundry Debtors',
        undergroup: 'Current Assets',
        parentGroupId: 4,
        groupType: 'Asset',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Sundry Debtors',
        sortOrder: 6,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 12,
        groupName: 'Credit card/Wallet',
        undergroup: 'Sundry Debtors',
        parentGroupId: 11,
        groupType: 'Asset',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Credit card/Wallet',
        sortOrder: 1,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 13,
        groupName: 'Debtor Branch',
        undergroup: 'Sundry Debtors',
        parentGroupId: 11,
        groupType: 'Asset',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Debtor Branch',
        sortOrder: 2,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 14,
        groupName: 'Debtors (Ecommerce)',
        undergroup: 'Sundry Debtors',
        parentGroupId: 11,
        groupType: 'Asset',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Debtors (Ecommerce)',
        sortOrder: 3,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 15,
        groupName: 'Debtors (Field Staff)',
        undergroup: 'Sundry Debtors',
        parentGroupId: 11,
        groupType: 'Asset',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Debtors (Field Staff)',
        sortOrder: 4,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 16,
        groupName: 'Current Liabilities',
        undergroup: 'Primary',
        parentGroupId: null,
        groupType: 'Liability',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Current Liabilities',
        sortOrder: 4,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 17,
        groupName: 'Duties & Taxes',
        undergroup: 'Current Liabilities',
        parentGroupId: 16,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Duties & Taxes',
        sortOrder: 1,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 18,
        groupName: 'GST (Goods & Service Tax)',
        undergroup: 'Duties & Taxes',
        parentGroupId: 17,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: GST (Goods & Service Tax)',
        sortOrder: 1,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 19,
        groupName: 'TDS (Tax Deducted At Source)',
        undergroup: 'Duties & Taxes',
        parentGroupId: 17,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: TDS (Tax Deducted At Source)',
        sortOrder: 2,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 20,
        groupName: 'VAT (Value Added Tax)',
        undergroup: 'Duties & Taxes',
        parentGroupId: 17,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: VAT (Value Added Tax)',
        sortOrder: 3,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 21,
        groupName: 'Provision',
        undergroup: 'Current Liabilities',
        parentGroupId: 16,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Provision',
        sortOrder: 2,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 22,
        groupName: 'Sundry Creditors',
        undergroup: 'Current Liabilities',
        parentGroupId: 16,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Sundry Creditors',
        sortOrder: 3,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 23,
        groupName: 'Creditor Branch',
        undergroup: 'Sundry Creditors',
        parentGroupId: 22,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Creditor Branch',
        sortOrder: 1,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 24,
        groupName: 'Creditors (Ecommerce)',
        undergroup: 'Sundry Creditors',
        parentGroupId: 22,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Creditors (Ecommerce)',
        sortOrder: 2,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 25,
        groupName: 'Creditors (Field Staff)',
        undergroup: 'Sundry Creditors',
        parentGroupId: 22,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Creditors (Field Staff)',
        sortOrder: 3,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 26,
        groupName: 'Fixed Assets',
        undergroup: 'Primary',
        parentGroupId: null,
        groupType: 'Asset',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Fixed Assets',
        sortOrder: 5,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 27,
        groupName: 'Investments',
        undergroup: 'Primary',
        parentGroupId: null,
        groupType: 'Asset',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Investments',
        sortOrder: 6,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 28,
        groupName: 'Loans (Liability)',
        undergroup: 'Primary',
        parentGroupId: null,
        groupType: 'Liability',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Loans (Liability)',
        sortOrder: 7,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 29,
        groupName: 'Bank OD A/c',
        undergroup: 'Loans (Liability)',
        parentGroupId: 28,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Bank OD A/c',
        sortOrder: 1,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 30,
        groupName: 'Secured Loans',
        undergroup: 'Loans (Liability)',
        parentGroupId: 28,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Secured Loans',
        sortOrder: 2,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 31,
        groupName: 'Unsecured Loans',
        undergroup: 'Loans (Liability)',
        parentGroupId: 28,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Unsecured Loans',
        sortOrder: 3,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 32,
        groupName: 'Misc.Expenses(ASSET)',
        undergroup: 'Primary',
        parentGroupId: null,
        groupType: 'Asset',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Misc.Expenses(ASSET)',
        sortOrder: 8,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 33,
        groupName: 'Profit & Loss',
        undergroup: 'Primary',
        parentGroupId: null,
        groupType: 'Income',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Profit & Loss',
        sortOrder: 9,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 34,
        groupName: 'Revenue Account',
        undergroup: 'Primary',
        parentGroupId: null,
        groupType: 'Income',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Revenue Account',
        sortOrder: 10,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 35,
        groupName: 'Direct Income',
        undergroup: 'Revenue Account',
        parentGroupId: 34,
        groupType: 'Income',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Direct Income',
        sortOrder: 1,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 36,
        groupName: 'Indirect Income',
        undergroup: 'Revenue Account',
        parentGroupId: 34,
        groupType: 'Income',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Indirect Income',
        sortOrder: 2,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 41,
        groupName: 'Purchase Accounts',
        undergroup: 'Revenue Account',
        parentGroupId: 34,
        groupType: 'Expense',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Purchase Accounts',
        sortOrder: 11,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 42,
        groupName: 'Sales Accounts',
        undergroup: 'Revenue Accounts',
        parentGroupId: 34,
        groupType: 'Income',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Sales Accounts',
        sortOrder: 2,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 37,
        groupName: 'Expenditure Account',
        undergroup: 'Revenue Account',
        parentGroupId: 34,
        groupType: 'Liability',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Expenditure Account',
        sortOrder: 11,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 38,
        groupName: 'Direct Expenses',
        undergroup: 'Expenditure Account',
        parentGroupId: 37,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Direct Expenses',
        sortOrder: 1,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 39,
        groupName: 'Indirect Expense',
        undergroup: 'Expenditure Account',
        parentGroupId: 37,
        groupType: 'Liability',
        isDefault: true,
        isEditable: true,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Indirect Expense',
        sortOrder: 2,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 40,
        groupName: 'Suspense Accounts',
        undergroup: 'Primary',
        parentGroupId: null,
        groupType: 'Asset',
        isDefault: true,
        isEditable: false,
        isDeletable: false,
        prohibit: 'No',
        description: 'Default group: Suspense Accounts',
        sortOrder: 12,
        status: 'Active',
        createdAt: new Date(),
        updatedAt: new Date()
      }

    ];

    const now = new Date();
    await queryInterface.bulkInsert(
      'groups',
      groups.map(group => ({
        ...group,
        createdAt: now,
        updatedAt: now
      }))
    );
  },

  async down(queryInterface, Sequelize) {
    await queryInterface.bulkDelete('groups', { isDefault: true }, {});
  }
};
